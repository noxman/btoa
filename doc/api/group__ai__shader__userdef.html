<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Arnold 4.2.14.2 API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">User-Data API</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
User-Data parameter</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpd8579d82f94a0a4dbe538aaf38e45856"></a>This macro is used to retrieve the user-data parameter from within the shaders.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_name</td><td>a string with the name of the user-data value to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the parameter for the user data, or NULL if not found </dd></dl>
</td></tr>
<tr class="memitem:ga3b076a98439b4fa77737e3027aad93c9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3b076a98439b4fa77737e3027aad93c9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetParameter</b>(_name)&#160;&#160;&#160;<a class="el" href="ai__shader__userdef_8h.html#aa18397b2ca3ee6a79b9e541f13b33a17">AiUserGetParameterFunc</a>(_name, sg)</td></tr>
<tr class="separator:ga3b076a98439b4fa77737e3027aad93c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
User-Data Readers</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpc2ac7fc585678abc1de6b7d572cfed78"></a>These macros are used to retrieve user-data values from within shaders. If a varying-type user-data is requested, then the user-data will be correctly interpolated across the face of the primitive.</p>
<p>In the case of reading constant-type user-data, the usual node-parameter reading functions, such as <a class="el" href="group__ai__nodes.html#ga43f540193a61e4dac40cd48601818f08" title="Return the value of an integer parameter. ">AiNodeGetInt()</a>, may also be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_name</td><td>a string with the name of the user-data value to read </td></tr>
    <tr><td class="paramname">_val</td><td>a pointer to the value in which to store the contents of the read operation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a boolean indicating whether the operation was successful</dd></dl>
<p>Please refer to <a class="el" href="ai__shader__userdef_8h.html" title="User data functions for shaders. ">ai_shader_userdef.h</a> for a description of the userdef-data reading functions called by these macros. </p>
</td></tr>
<tr class="memitem:gae2a57cfe4ec473c86c96008bf9199425"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae2a57cfe4ec473c86c96008bf9199425"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetBool</b>(_name,  _val)    &#160;&#160;&#160;AiUserGetBoolFunc  (_name, sg, _val)</td></tr>
<tr class="separator:gae2a57cfe4ec473c86c96008bf9199425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga120f2e742bd44ee4f84126a543edd4e4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga120f2e742bd44ee4f84126a543edd4e4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetByte</b>(_name,  _val)    &#160;&#160;&#160;AiUserGetByteFunc  (_name, sg, _val)</td></tr>
<tr class="separator:ga120f2e742bd44ee4f84126a543edd4e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3b6416a65cae2a12fdd2e1033324e2e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae3b6416a65cae2a12fdd2e1033324e2e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetInt</b>(_name,  _val)      &#160;&#160;&#160;AiUserGetIntFunc   (_name, sg, _val)</td></tr>
<tr class="separator:gae3b6416a65cae2a12fdd2e1033324e2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga160d618bfba5c6498023ed741dbb2ca0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga160d618bfba5c6498023ed741dbb2ca0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetUInt</b>(_name,  _val)    &#160;&#160;&#160;AiUserGetUIntFunc  (_name, sg, _val)</td></tr>
<tr class="separator:ga160d618bfba5c6498023ed741dbb2ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9396e0d21d5d597d46762d84b2a47c6c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9396e0d21d5d597d46762d84b2a47c6c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetFlt</b>(_name,  _val)      &#160;&#160;&#160;AiUserGetFltFunc   (_name, sg, _val)</td></tr>
<tr class="separator:ga9396e0d21d5d597d46762d84b2a47c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97266b2c0e7d855f2a7e51ff0c8d0f3f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga97266b2c0e7d855f2a7e51ff0c8d0f3f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetRGB</b>(_name,  _val)      &#160;&#160;&#160;AiUserGetRGBFunc   (_name, sg, _val)</td></tr>
<tr class="separator:ga97266b2c0e7d855f2a7e51ff0c8d0f3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8267f5fc9e6a3ca61f8417586f5092d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8267f5fc9e6a3ca61f8417586f5092d3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetRGBA</b>(_name,  _val)    &#160;&#160;&#160;AiUserGetRGBAFunc  (_name, sg, _val)</td></tr>
<tr class="separator:ga8267f5fc9e6a3ca61f8417586f5092d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab61244268925f48485c5e2912b1d24df"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab61244268925f48485c5e2912b1d24df"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetVec</b>(_name,  _val)      &#160;&#160;&#160;AiUserGetVecFunc   (_name, sg, _val)</td></tr>
<tr class="separator:gab61244268925f48485c5e2912b1d24df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2742e42dffab454749ab4402f2a663a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2742e42dffab454749ab4402f2a663a5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetPnt</b>(_name,  _val)      &#160;&#160;&#160;AiUserGetPntFunc   (_name, sg, _val)</td></tr>
<tr class="separator:ga2742e42dffab454749ab4402f2a663a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaffec8204136cfe3f222e5873fc39d747"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaffec8204136cfe3f222e5873fc39d747"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetPnt2</b>(_name,  _val)    &#160;&#160;&#160;AiUserGetPnt2Func  (_name, sg, _val)</td></tr>
<tr class="separator:gaffec8204136cfe3f222e5873fc39d747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27fbd2bb7b884ce1ee4471b3f139d4a6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga27fbd2bb7b884ce1ee4471b3f139d4a6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetStr</b>(_name,  _val)      &#160;&#160;&#160;AiUserGetStrFunc   (_name, sg, _val)</td></tr>
<tr class="separator:ga27fbd2bb7b884ce1ee4471b3f139d4a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd3b89d27b4fc7c600158a4090e7b92c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafd3b89d27b4fc7c600158a4090e7b92c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetPtr</b>(_name,  _val)      &#160;&#160;&#160;AiUserGetPtrFunc   (_name, sg, _val)</td></tr>
<tr class="separator:gafd3b89d27b4fc7c600158a4090e7b92c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc09a1051f7c9dbe6b1af9afdd2735b1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gacc09a1051f7c9dbe6b1af9afdd2735b1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetNode</b>(_name,  _val)    &#160;&#160;&#160;AiUserGetNodeFunc  (_name, sg, _val)</td></tr>
<tr class="separator:gacc09a1051f7c9dbe6b1af9afdd2735b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9b06733c5258bf469d03d2b40c0d1b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae9b06733c5258bf469d03d2b40c0d1b5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetArray</b>(_name,  _val)  &#160;&#160;&#160;AiUserGetArrayFunc (_name, sg, _val)</td></tr>
<tr class="separator:gae9b06733c5258bf469d03d2b40c0d1b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c1bd3390125afc4ec389460f0b85e43"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8c1bd3390125afc4ec389460f0b85e43"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetMatrix</b>(_name,  _val)&#160;&#160;&#160;AiUserGetMatrixFunc(_name, sg, _val)</td></tr>
<tr class="separator:ga8c1bd3390125afc4ec389460f0b85e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
User-Data Derivatives with respect to screen X and Y</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp07419a26595d9b66f4db0da7b2a400b7"></a>These macros are used to retrieve user-data derivatives w.r.t. X and Y from within shaders. If a varying-type user-data is requested, then the user-data derivatives will be correctly interpolated across the face of the primitive. These derivatives can be useful in determining filter sizes to match pixel footprints, such as when texture mapping.</p>
<p>In the case of reading constant-type user-data, the derivatives are zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_name</td><td>a string with the name of the user-data value to read </td></tr>
    <tr><td class="paramname">_dx_val</td><td>a pointer to the value in which to store the contents of the computed derivatives with respect to the X pixel direction </td></tr>
    <tr><td class="paramname">_dy_val</td><td>a pointer to the value in which to store the contents of the computed derivatives with respect to the Y pixel direction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a boolean indicating whether the operation was successful</dd></dl>
<p>Please refer to <a class="el" href="ai__shader__userdef_8h.html" title="User data functions for shaders. ">ai_shader_userdef.h</a> for a description of the userdef-data reading functions called by these macros. </p>
</td></tr>
<tr class="memitem:gaa8a705b4230d489a090e74294ddf63d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa8a705b4230d489a090e74294ddf63d2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetDxyDerivativesFlt</b>(_name,  _dx_val,  _dy_val)      &#160;&#160;&#160;AiUserGetDxyDerivativesFltFunc   (_name, sg, _dx_val, _dy_val)</td></tr>
<tr class="separator:gaa8a705b4230d489a090e74294ddf63d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga132d58e495801785eee2d9a5575ca580"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga132d58e495801785eee2d9a5575ca580"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetDxyDerivativesRGB</b>(_name,  _dx_val,  _dy_val)      &#160;&#160;&#160;AiUserGetDxyDerivativesRGBFunc   (_name, sg, _dx_val, _dy_val)</td></tr>
<tr class="separator:ga132d58e495801785eee2d9a5575ca580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a8568cfd47e3ef1fd78b8071589a952"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2a8568cfd47e3ef1fd78b8071589a952"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetDxyDerivativesRGBA</b>(_name,  _dx_val,  _dy_val)    &#160;&#160;&#160;AiUserGetDxyDerivativesRGBAFunc  (_name, sg, _dx_val, _dy_val)</td></tr>
<tr class="separator:ga2a8568cfd47e3ef1fd78b8071589a952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c9531fc6a59b774af186cfdcd1e2ad3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3c9531fc6a59b774af186cfdcd1e2ad3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetDxyDerivativesVec</b>(_name,  _dx_val,  _dy_val)      &#160;&#160;&#160;AiUserGetDxyDerivativesVecFunc   (_name, sg, _dx_val, _dy_val)</td></tr>
<tr class="separator:ga3c9531fc6a59b774af186cfdcd1e2ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga621bd84829270efb2ee1cd156022be2c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga621bd84829270efb2ee1cd156022be2c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetDxyDerivativesPnt</b>(_name,  _dx_val,  _dy_val)      &#160;&#160;&#160;AiUserGetDxyDerivativesPntFunc   (_name, sg, _dx_val, _dy_val)</td></tr>
<tr class="separator:ga621bd84829270efb2ee1cd156022be2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c799c85f5b53b54b0827a57e2a09756"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3c799c85f5b53b54b0827a57e2a09756"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetDxyDerivativesPnt2</b>(_name,  _dx_val,  _dy_val)    &#160;&#160;&#160;AiUserGetDxyDerivativesPnt2Func  (_name, sg, _dx_val, _dy_val)</td></tr>
<tr class="separator:ga3c799c85f5b53b54b0827a57e2a09756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae109fde7dae2de4f5c367d43cc8ac5c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae109fde7dae2de4f5c367d43cc8ac5c3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetDxyDerivativesArray</b>(_name,  _dx_val,  _dy_val)  &#160;&#160;&#160;AiUserGetDxyDerivativesArrayFunc (_name, sg, _dx_val, _dy_val)</td></tr>
<tr class="separator:gae109fde7dae2de4f5c367d43cc8ac5c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35fe1e64671946c0050d6d681b3dda0c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga35fe1e64671946c0050d6d681b3dda0c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AiUDataGetDxyDerivativesMatrix</b>(_name,  _dx_val,  _dy_val)&#160;&#160;&#160;AiUserGetDxyDerivativesMatrixFunc(_name, sg, _dx_val, _dy_val)</td></tr>
<tr class="separator:ga35fe1e64671946c0050d6d681b3dda0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This API is for accessing user-defined data on geometry. User-defined data (sometimes called "user-data") are new parameters that have been added to existing node-instances via <a class="el" href="group__ai__nodes.html#gaeb32c6ac687f40685f7e98d2775ab50a" title="Declare a user-defined parameter for this node. ">AiNodeDeclare()</a>.</p>
<p>There are four kinds of user-defined data:</p><ul>
<li><code>constant</code> &ndash; constant parameters are data that are defined on a per-object basis and do not vary across the surface of that object.</li>
<li><code>uniform</code> &ndash; uniform parameters are data that are defined on a "per-face" basis. During subdivision (if appropriate) values are not interpolated. Instead, the newly subdivided faces will contain the value of their "parent" face.</li>
<li><code>varying</code> &ndash; varying parameters are data that are defined on a per-vertex basis. During subdivision (if appropriate), the values at the new vertices are interpolated from the values at the old vertices. The user should only create parameters of "interpolatable" variable types (such as floats, colors, etc.)</li>
<li><code>indexed</code> &ndash; indexed parameters are data that are defined on a per-face-vertex basis. During subdivision (if appropriate), the values at the new vertices are interpolated from the values at the old vertices, preserving edges where values were not shared. The user should only create parameters of "interpolatable" variable types (such as floats, colors, etc.) </li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<br>
<!--We could define a thematic change here by using the tag <hr class="footer"/> -->
<div id="geninfo" style="text-align: center;">
 <font size=-2 color=#C9C9C9>&copy 2009-2016 Solid Angle SL &middot all rights reserved &middot <a href="http://www.solidangle.com"><font size=-2 color=#C9C9C9>www.solidangle.com</font></a></font>
 <div id="geninfo" style="text-align: right; margin-top: 10 px; margin-right: 10px;">
 </div>
</div>
</body>
</html>
